{% extends "::base.html.twig" %}

{% block contenido %}
    {{ parent() }}
    <div class="row">
        <div class="col-md-8 col-md-offset-2" align="middle">
            <div class="card isi_sombra-4x">
                <div class="card-header">
                        Estados civiles
                        <span id="isi_totRegi" name="lst-estCivil" class="label label-pill label-info isi_badge">{{totRegi}}</span>
                        <button id="isi_btn_agregar" name="isi_addEstCivil" type="button" title="Nuevo Estado Civil" class="btn btn-primary pull-xs-right isi_abrirModal" onclick="$('#est_civiles_descrip').focus();" style="margin-top:-7px;">
                            &nbsp;<i class="fa fa-external-link fa-lg" aria-hidden="true"></i>&nbsp;
                        </button>
                </div>
                {% if listado is not empty %}
                    <div name="lst-estCivil" class="card-block isi_listado">
                        <div class="row">
                            <div class="col-md-8">
                                {% include "::filtro.html.twig" with {"id_filtro": "inp_txt-estCivil", "name_filtro":"lst-estCivil", "id_ayuda":"ayuda"} %}
                            </div>
                            <!-- <div class="col-md-1 text-xs-left">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fa fa-bars" aria-hidden="true"></i>
                                    </button>
                                    <div class="dropdown-menu">
                                        <a id="isi_btn_agregar" name="isi_addEstCivil" class="dropdown-item isi_abrirModal" onclick="$('#est_civiles_descrip').focus();" title="Nuevo Estado Civil" name="isi_addEstCivil" href="#">
                                            <i class="fa fa-external-link" aria-hidden="true"></i>&nbsp;Nuevo (modal)
                                        </a>
                                        <a id="isi_lnk_estCivNuevo" class="dropdown-item" title="Agregar un Estado Civil" href="{{url('isi_config_estadoCivilNuevo')}}">
                                            <i class="fa fa-plus" aria-hidden="true"></i>&nbsp;&nbsp;Nuevo Estado Civil
                                        </a>
                                        <div class="dropdown-divider"></div>
                                        <a id="isi_lnk_borrarRegs" name="lst-estCivil" class="dropdown-item isi_elim_reg text-danger" title="Eliminar Selecci贸n" href="{{path('isi_config_estadoCivilBorrar')}}">
                                            <i class="fa fa-trash" aria-hidden="true"></i>&nbsp;&nbsp;Eliminar selecci贸n
                                        </a>
                                    </div>
                                </div>
                            </div> -->
                            <div class="col-md-4 text-xs-right">
                                <a id="isi_lnk_estCivNuevo" class="btn btn-primary" title="Agregar un Estado Civil" href="{{url('isi_config_estadoCivilNuevo')}}">
                                    &nbsp;<i class="fa fa-plus fa-lg" aria-hidden="true"></i>&nbsp;
                                </a>
                                <a id="isi_lnk_borrarRegs" name="lst-estCivil" title="Eliminar Selecci贸n" href="{{path('isi_config_estadoCivilBorrar')}}" class="btn btn-danger isi_elim_reg">
                                    &nbsp;<i class="fa fa-trash fa-lg" aria-hidden="true"></i>&nbsp;
                                </a>
                            </div>
                        </div>
                        <h4 class="card-title"></h4>
                        <div class="table table-responsive">
                            <table id="isi_lst-estCivil" name="lst-estCivil" class="table table-bordered">
                                <thead id="{{totRegi}}">
                                    <tr>
                                        <th name="lst-estCivil" class="isi_chk_colu">
                                            <input id="isi_inpChk_todos" name="lst-estCivil" type="checkbox" class="isi_chk_grupo">
                                            <span id="isi_totChkSel_lst-estCivil" name="lst-estCivil" class="label label-pill label-info isi_badge">0</span>
                                        </th>
                                        <!-- <th> Id </th> -->
                                        <th class="">Estado Civil</th>
                                        <th>C贸d. Indec</th>
                                        <th class="text-xs-center">
                                            <i class="fa fa-wrench" aria-hidden="true"></i>
                                            <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for regi in listado %} <!-- lleno la tabla -->
                                        <tr id="isi_fila_lst-estCivil{{regi.id}}">
                                            <label class="isi_filtrable" name="lst-estCivil" for="isi_fila_lst-estCivil{{regi.id}}">{{regi.codIndec}} {{regi.descrip|lower}}</label>
                                            <td name="lst-estCivil">
                                                <input id="isi_chkMA{{regi.id}}" type="checkbox" name="lst-estCivil" value="{{regi.id}}" class="isi_chkFiltrable">
                                            </td>
                                            <!-- <td> {{regi.id}} </td> -->
                                            <td>{{regi.descrip|capitalize}}</td>
                                            <td>{{regi.codIndec}}</td>
                                            <td class="text-xs-center isi_acc_colu">
                                                <a id="isi_lnk_editar{{regi.id}}" href="{{url('isi_config_estadoCivilEdicion', {'id': regi.id})}}" class="">
                                                    <i class="fa fa-pencil fa-lg" aria-hidden="true"></i>
                                                </a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- modales -->
    <div id="isi_addEstCivil" class="isi_modal mdl-layout mdl-layout--fixed-header">
        <!-- <div class="isi_modal-contenido" style="width:80%;"> -->
        <div class="isi_modal-contenido">
            <div class="">
                {{ render(controller("IsiPersonaBundle:EstadoCivil:formulario", {request: app.request, isi_btnModalName: "isi_addEstCivil"})) }}
            </div>
        </div>
    </div>
<br>
{% endblock %}
{% block pie%}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    {# el js esta en el Bundle(IsiPersonaBundle por ejemplo) /Resources/public/ js,css,images,etc.
        luego hay que instalarlo via asset
        php bin/console assets:install --symlink
        y se crea un enlace simbolico dentro de raiz/web/bundles/nombreBundleInstalado
    #}
    <script src="{{ asset('bundles/isipersona/js/isi_estadoCivil.js') }}" type="text/javascript"></script>
{% endblock %}
