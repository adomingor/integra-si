{% extends "::base.html.twig" %}
{% block contenido %}
    {{ parent() }}
    <div class="row">
        <div class="col-md-12 col-md-offset-0" align="middle">
            <div class="card isi_sombra-4x">
                <div class="card-header">
                    Busqueda de Personas
                    <span id="isi_totRegi" name="lst-general" class="label label-pill label-info isi_badge">{{totRegi}}</span>
                </div>
                <div class="card-block">
                    {{ form_start(form, {"attr": {"class": "form-inline", "id": "fBuscaPers"} }) }}
                        <div style="margin-bottom: 15px" class="input-group">
                            {% if form_errors(form) is not empty %}
                                <div class="alert alert-danger alert-dismissible fade in" role="alert">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    {{ form_errors(form) }}
                                </div>
                            {% endif %}
                        </div>
                        <div class="checkbox">
                            <a data-toggle="collapse" href="#AyuBuscarAvzada" aria-expanded="false" aria-controls="collapseExample" class="isi_lnkInfo">
                                <i class="fa fa-info fa-lg text-info " aria-hidden="true"></i>
                            </a>
                        </div>
                        <div style="margin-bottom: 15px" class="input-group">
                            {{ form_errors(form.txtABuscar) }}
                            <span class="input-group-addon"><i class="fa fa-search" aria-hidden="true"></i></span>
                            {{ form_widget(form.txtABuscar, {"attr": {"autofocus": "true", "placeholder": "Ingrese el texto a buscar...", "class":"form-control", "required":"true", "size":"70", "pattern":".{3,230}", "required title":"Escriba por lo menos una palabra que tenga como mínimo 3 caracteres"}}) }}
                        </div>
                        <div class="checkbox">
                            {{ form_errors(form.chkThumbs) }}
                            &nbsp;&nbsp;&nbsp;{{ form_widget(form.chkThumbs, {"attr": {"title": "Ver como tarjetas" }}) }}
                            <i class="fa fa-th-large" aria-hidden="true"></i>
                        </div>
                    {{ form_end(form) }}
                    <div class="collapse" id="AyuBuscarAvzada">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card card-block text-justify" align="left">
                                    <div class="pull-xs-none">
                                        <strong><u>Cómo utilizar la búsqueda avanzada</u></strong>
                                        <!-- <br>Primero tildamos la casilla de <span class="font-italic">Búsqueda avanzada</span>. <i class="fa fa-superscript fa-lg" aria-hidden="true"></i> <i class="fa fa-check-square-o fa-lg" aria-hidden="true"></i> -->
                                    </div>
                                    <div class="pull-xs-none">
                                        Supongamos que queremos buscar una persona y sabemos que su apellido es <span class="font-italic">Córdoba</span> y su nombre puede ser Gustavo o Ariel. Para realizar esto, tenemos que poner
                                    </div><br>
                                    <div class="pull-xs-none">
                                        <div class="col-md-4 col-md-offset-1 alert alert-info"  align="middle">(Córdoba) <strong>&</strong> (Gustavo <strong>|</strong> Ariel)</div>
                                        <div class="col-md-4 col-md-offset-1 alert alert-info" align="middle"> El <strong>&</strong> es la <span class="font-italic">Y</span>, la <span class="font-italic">O</span> es el <strong>|</strong></div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="pull-xs-none">
                                        Con ésto buscaríamos las palabras Gustavo o Ariel y que además esté la palabra Córdoba.
                                        <p> Realizamos una busqueda y obtenemos varias personas que tienen apellido Córdoba y nombres Gustavo, Ariel y Luis. Si no queremos que aparezca Luis agregamos </p>
                                    </div>
                                    <div class="pull-xs-none">
                                        <div class="col-md-2 alert alert-info" align="middle"><strong>!</strong>Luis</div>
                                        <div class="col-md-3 col-md-offset-1 alert alert-info" align="middle">El <strong>!</strong> es el <span class="font-italic">NO</span></div>
                                        <div class="col-md-5 col-md-offset-1 alert alert-info" align="middle">(Córdoba) & (Gustavo | Ariel) & (<strong>!</strong>Luis)</div>
                                        <br><br>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {% if listado is not empty %}
                    <div name="lst-general" class="isi_listado">
                        <div class="row">
                            <div class="col-md-12">
                                {% include "::filtro.html.twig" with {"id_filtro": "inp_txt-filtro", "name_filtro":"lst-general", "id_ayuda":"ayuda"} %}
                            </div>
                        </div>
                        <h4 class="card-title"></h4>
                        <div class="table table-striped table-responsive">
                            <table id="isi_lst-general" name="lst-general" class="table table-bordered">
                                <thead id="{{totRegi}}">
                                    <tr>
                                        <th name="lst-general" class="isi_chkColu">
                                            <input id="isi_inpChk_todos" name="lst-general" type="checkbox" class="isi_chk_grupo" title="Seleccionar todos">
                                            <span id="isi_totChkSel_lst-general" name="lst-general" class="label label-pill label-info isi_badge">0</span>
                                        </th>
                                        <th>Foto</th>
                                        <th>D. N. I.</th>
                                        <th>Apellido(s)</th>
                                        <th>Nombre(s)</th>
                                        <th>F. Nacim.</th>
                                        <th>Observaciones</th>
                                        <th class="text-xs-center isi_accColu-2x">
                                            <i class="fa fa-wrench" aria-hidden="true"></i>
                                            <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for regi in listado %}
                                        <tr id="isi_fila_lst-general-{{regi.id | urlencrypt}}" style="height: 60px;">
                                            <label class="isi_filtrable" name="lst-general" for="isi_fila_lst-general-{{regi.id | urlencrypt}}">{{regi.apellido|lower}} {{regi.nombre|lower}} {{regi.dni}}  {{regi.descrip | lower}}</label>
                                            <td name="lst-general">
                                                <input id="isi_chkMA{{regi.id | urlencrypt}}" type="checkbox" name="lst-general" value="{{regi.id | urlencrypt}}" class="isi_chkFiltrable">
                                            </td>
                                            <td><img src="{{regi.foto}}" alt="" class="isi_fotoPersBuqda"/></td>
                                            <td>{{regi.dni}}</td>
                                            <td>{{regi.apellidox | title | raw}}</td>
                                            <td>{{regi.nombrex | title | raw}}</td>
                                            <td>{{regi.fnac}}</td>
                                            <td>{{regi.descripx | raw}}</td>
                                            <td class="text-xs-center isi_accColu">
                                                <a id="isi_lnk_verTodo{{regi.id | urlencrypt}}" href="#" title="Ver datos completos">
                                                    <i class="fa fa-eye fa-lg text-info" aria-hidden="true"></i>
                                                </a>
                                                <a id="isi_lnk_editar{{regi.id | urlencrypt}}" href="{{url('isi_config_identGeneroEdicion', {'id': regi.id | urlencrypt})}}" title="Editar">
                                                    <i class="fa fa-pencil fa-lg" aria-hidden="true"></i>
                                                </a>
                                            </td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    {% endif %}

                </div>
            </div>
        </div>
    </div>
<br>
{% endblock %}
{% block pie %}
{% endblock %}
