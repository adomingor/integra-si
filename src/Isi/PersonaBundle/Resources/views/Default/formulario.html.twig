{% extends "::base.html.twig" %}
{% block contenido %}
    {{ parent() }}
    {#{ form(form) }#}
    {{ form_start(form, {"attr": {"class": "form-inline"}}) }}
        <div class="col-md-8 float-xs-left">
            <div class="card isi_sombra-4x">
                <div class="card-header bg-warning text-white text-capitalize text-xs-center">
                    documento nacional de identidad
                </div>
                <div class="card-block text-xs-center">
                    <div class="">
                        {{ form_errors(form) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label for="dnies_personas_nn">NN</label>
                        {{ form_widget(form.personas.nn, {"attr": {"class":"form-control", "disabled":"true", "checked":"true"}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_numero">Nº DNI</label>
                        {{ form_widget(form.numero, {"attr": {"class":"form-control", "min":"0", "autofocus":"true", "placeholder":"Número"}}) }}
                        <small class="text-danger">{{ form_errors(form.numero) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_ejemplar">ejemplar</label>
                        {{ form_widget(form.ejemplar, {"attr": {"class":"form-control", "pattern":"[A-Za-z]", "placeholder":"ejemplar a-z", "style":"width:115px;"}}) }}
                        <small class="text-danger">{{ form_errors(form.ejemplar) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_femision">F. Emisión</label>
                        {{ form_widget(form.femision, {"attr": {"class":"form-control", "placeholder":"emitido", "style":"width:115px;"}}) }}
                        <small class="text-danger">{{ form_errors(form.femision) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_fvto">vencimiento</label>
                        {{ form_widget(form.fvto, {"attr": {"class":"form-control", "placeholder":"vencimiento", "style":"width:115px;"}}) }}
                        <small class="text-danger">{{ form_errors(form.fvto) }}</small>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 float-xs-right">
            <div class="card isi_sombra-4x">
                <div class="card-header bg-info text-white text-capitalize text-xs-center">
                    fotografía actual
                </div>
                <div class="card-block mx-auto text-xs-center">
                    <div class="row">
                        <div class="col-md-12">
                            {% if form.personas.vars.value is not null %}
                                <img id="isi_imagen" class="img-thumbnail isi_fotoPers isi_sombra-0x" src="{{ form.personas.vars.value.foto is not empty ? form.personas.vars.value.foto : asset('imagenes/sin_foto.png') }}">
                                <br>
                                <button id="isi_btnElimFoto" type="button" class="btn btn-link" onclick="limpiarImg();"><i class="fa fa-trash-o text-danger" aria-hidden="true"></i></button>
                            {% else %}
                                <img id="isi_imagen" class="img-thumbnail isi_fotoPers isi_sombra-0x" src="{{ asset('imagenes/sin_foto.png') }}">
                                <br>
                                <button id="isi_btnElimFoto" type="button" class="btn btn-link" onclick="limpiarImg();" style="visibility: hidden;"><i class="fa fa-trash-o text-danger" aria-hidden="true"></i></button>
                            {% endif %}
                        </div>
                        <span id="isi_infoImg" class="text-info"></span>
                    </div>
                    <div class="isi_espacioForm">
                        <br>
                        <input id="isi_imagenBuscar" type="file" class="filestyle" data-buttonName="btn-primary" data-iconName="fa fa-search fa-lg" data-placeholder="" data-buttonText="imágen">
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-8 float-xs-left">
            <div class="card isi_sombra-4x">
                <div class="card-header bg-danger text-white text-capitalize text-xs-center">
                    datos personales
                </div>
                <div class="card-block" align="left">
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_personas_apellido">Apellido(s)</label>
                        {{ form_widget(form.personas.apellido, {"attr": {"class":"form-control", "onblur":"this.value = this.value.toLowerCase();", "placeholder":"apellido(s)"}}) }}
                        <small class="text-danger">{{ form_errors(form.personas.apellido) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_personas_nombre">Nombre(s)</label>
                        {{ form_widget(form.personas.nombre, {"attr": {"class":"form-control", "onblur":"this.value = this.value.toLowerCase();", "placeholder":"nombre(s)"}}) }}
                        <small class="text-danger">{{ form_errors(form.personas.nombre) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_personas_fnac">F. Nacimiento</label>
                        {{ form_widget(form.personas.fnac, {"attr": {"class":"form-control", "placeholder":"f. nacim.", "style":"width:115px;"}}) }}
                        <small class="text-danger">{{ form_errors(form.personas.fnac) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_personas_ffallec">F. Fallecimiento</label>
                        {{ form_widget(form.personas.ffallec, {"attr": {"class":"form-control", "placeholder":"f. fallecim.", "style":"width:115px;"}}) }}
                        <small class="text-danger">{{ form_errors(form.personas.ffallec) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.email, {"attr": {"class":"form-control", "onblur":"this.value = this.value.toLowerCase();", "placeholder":"correo electrónico"}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.sexo, {"attr": {"class":""}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.lugarnacim, {"attr": {"class":"form-control"}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.estciviles, {"attr": {"class":"form-control"}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.identgeneros, {"attr": {"class":"form-control", "size":"4", "title":"Identidad de género"}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.descrip, {"attr": {"class":"form-control", "placeholder":"observaciones"}}) }}
                    </div>
                </div>
            </div>
        </div>

        <div class="clearfix"> </div>
        <br>
        <div class="text-xs-center">
            <button id="isi_btnGrabar" type="submit" class="btn btn-success" title="Confirmar">
                &nbsp;<i class="fa fa-check fa-lg" aria-hidden="true"></i>&nbsp;
            </button>
        </div>

        {{ form_widget(form.personas.foto, {"attr": {"class":"isi_ocultar"}}) }}
        {{ form_widget(form._token) }} {# Token CSRF sin esto no envia el formulario #}
    {{ form_end(form, {"render_rest": false}) }} {# de esta forma no estan en la pagina el resto del formulario (usr crea, actu, ip crea, actu, fecha crea, actu) #}

{% endblock %}
{% block pie %}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/isipersona/js/isi_persona.js') }}" type="text/javascript"></script>
    <script src="{{ asset('js/bootstrap-filestyle.js') }}" type="text/javascript"></script>
{% endblock %}
