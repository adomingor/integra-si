{% extends "::base.html.twig" %}
{% block contenido %}
    {{ parent() }}
    {#{ form(form) }#}
    {{ form_start(form, {"attr": {"class": "form-inline"}}) }}
        <div class="col-md-8 pull-xs-left" align="middle">
            <div class="card isi_sombra-4x">
                <div class="card-header bg-warning">
                    Documento nacional de identidad
                </div>
                <div class="card-block">
                    <div class="">
                        {{ form_errors(form) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_numero">Nº dni</label>
                        {{ form_widget(form.numero, {"attr": {"class":"form-control", "min":"0", "autofocus":"true", "placeholder":"Número"}}) }}
                        <small class="text-danger">{{ form_errors(form.numero) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_ejemplar">ejemplar</label>
                        {{ form_widget(form.ejemplar, {"attr": {"class":"form-control", "placeholder":"ejemplar", "style":"width:115px;"}}) }}
                        <small class="text-danger">{{ form_errors(form.ejemplar) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_femision">F. Emisión</label>
                        {{ form_widget(form.femision, {"attr": {"class":"form-control", "placeholder":"emitido", "style":"width:115px;"}}) }}
                        <small class="text-danger">{{ form_errors(form.femision) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_fvto">vencimiento</label>
                        {{ form_widget(form.fvto, {"attr": {"class":"form-control", "placeholder":"vence", "style":"width:115px;"}}) }}
                        <small class="text-danger">{{ form_errors(form.fvto) }}</small>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 pull-xs-right" align="middle">
            <div class="card isi_sombra-4x">
                <div class="card-header bg-info">
                    Fotografía Actual
                </div>
                <div class="card-block">
                    <div class="row">
                        <div class="col-md-12 center-block">
                            <img id="isi_imagen" class="img-thumbnail center-block isi_fotoPers isi_sombra-2x" src="{{ asset('imagenes/sin_foto.png') }}">
                        </div>
                        <button type="button" class="btn btn-link" onclick="limpiarImg();"><i class="fa fa-trash-o text-danger" aria-hidden="true"></i></button>
                        <span id="isi_infoImg" class="text-info"></span>
                    </div>
                    <div class="isi_espacioForm">
                        <button id="isi_imagenBtn" name="isi_tomarFoto" type="button" title="Sacar una foto" class="btn bg-inverse isi_abrirModal">
                            &nbsp;<i class="fa fa-camera fa-lg" aria-hidden="true"></i>&nbsp;
                        </button>
                    </div>
                    <div class="isi_espacioForm">
                        <input id="isi_imagenBuscar" type="file" class="filestyle" data-buttonName="btn-primary" data-iconName="fa fa-search fa-lg" data-placeholder="sin imágen" data-buttonText="imágen">
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-8 pull-xs-left" align="middle">
            <div class="card isi_sombra-4x">
                <div class="card-header bg-danger">
                    Datos personales
                </div>
                <div class="card-block" align="left">
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_personas_apellido">Apellido(s)</label>
                        {{ form_widget(form.personas.apellido, {"attr": {"class":"form-control", "placeholder":"apellido(s)"}}) }}
                        <small class="text-danger">{{ form_errors(form.personas.apellido) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_personas_nombre">Nombre(s)</label>
                        {{ form_widget(form.personas.nombre, {"attr": {"class":"form-control", "placeholder":"nombre(s)"}}) }}
                        <small class="text-danger">{{ form_errors(form.personas.nombre) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_personas_fnac">F. Nacimiento</label>
                        {{ form_widget(form.personas.fnac, {"attr": {"class":"form-control", "placeholder":"f. nacim.", "style":"width:115px;"}}) }}
                        <small class="text-danger">{{ form_errors(form.personas.fnac) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label class="sr-only" for="dnies_personas_ffallec">F. Fallecimiento</label>
                        {{ form_widget(form.personas.ffallec, {"attr": {"class":"form-control", "placeholder":"f. fallecim.", "style":"width:115px;"}}) }}
                        <small class="text-danger">{{ form_errors(form.personas.ffallec) }}</small>
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.email, {"attr": {"class":"form-control", "placeholder":"correo electrónico"}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.sexo, {"attr": {"class":""}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.lugarnacim, {"attr": {"class":"form-control"}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.estciviles, {"attr": {"class":"form-control"}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.identgeneros, {"attr": {"class":"form-control", "size":"4", "title":"Identidad de género"}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        <label for="dnies_personas_nn">¿Es NN?</label>
                        {{ form_widget(form.personas.nn, {"attr": {"class":"form-control"}}) }}
                    </div>
                    <div class="form-group isi_espacioForm">
                        {{ form_widget(form.personas.descrip, {"attr": {"class":"form-control", "placeholder":"observaciones"}}) }}
                    </div>
                </div>
            </div>
        </div>

        <div class="clearfix"> </div>
        <br>
        <div class="text-xs-center">
            <button id="isi_btnGrabar" type="submit" class="btn btn-success" title="Confirmar">
                &nbsp;<i class="fa fa-check fa-lg" aria-hidden="true"></i>&nbsp;
            </button>
        </div>

        <!-- modales -->
        <div id="isi_tomarFoto" class="isi_modal mdl-layout mdl-layout--fixed-header">
            <div class="isi_modalContenido">
                <button name="isi_tomarFoto" type="button" class="isi_cerrarModal close" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>

                ahi vamos
                {#{ render(controller("IsiPersonaBundle:EstadoCivil:formulario", {request: app.request})) }#}
            </div>
        </div>

        {{ form_widget(form.personas.foto, {"attr": {"class":"isi_ocultar"}}) }}
        {{ form_widget(form._token) }} {# Token CSRF sin esto no envia el formulario #}
    {{ form_end(form, {"render_rest": false}) }} {# de esta forma no estan en la pagina el resto del formulario (usr crea, actu, ip crea, actu, fecha crea, actu) #}

    <input id="isi_ctrlAltaPers" type="text" class="isi_ocultar" value="{{ url('isi_persona_ctrlAltaPers') }}">
{% endblock %}
{% block pie %}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/isipersona/js/isi_persona.js') }}" type="text/javascript"></script>
    <script src="{{ asset('js/bootstrap-filestyle.js') }}" type="text/javascript"></script>
{% endblock %}
